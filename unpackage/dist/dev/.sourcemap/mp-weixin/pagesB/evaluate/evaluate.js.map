{"version":3,"sources":["uni-app:///main.js","webpack:///D:/项目/商城小程序/amazing-mall/pagesB/evaluate/evaluate.vue?dbc9","webpack:///D:/项目/商城小程序/amazing-mall/pagesB/evaluate/evaluate.vue?84f4","webpack:///D:/项目/商城小程序/amazing-mall/pagesB/evaluate/evaluate.vue?3efa","webpack:///D:/项目/商城小程序/amazing-mall/pagesB/evaluate/evaluate.vue?7017","uni-app:///pagesB/evaluate/evaluate.vue","webpack:///D:/项目/商城小程序/amazing-mall/pagesB/evaluate/evaluate.vue?0bad","webpack:///D:/项目/商城小程序/amazing-mall/pagesB/evaluate/evaluate.vue?20da"],"names":["createPage","Page"],"mappings":"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","file":"pagesB/evaluate/evaluate.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagesB/evaluate/evaluate.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./evaluate.vue?vue&type=template&id=1f10e90c&scoped=true&\"\nvar renderjs\nimport script from \"./evaluate.vue?vue&type=script&lang=js&\"\nexport * from \"./evaluate.vue?vue&type=script&lang=js&\"\nimport style0 from \"./evaluate.vue?vue&type=style&index=0&id=1f10e90c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1f10e90c\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagesB/evaluate/evaluate.vue\"\nexport default component.exports","export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./evaluate.vue?vue&type=template&id=1f10e90c&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./evaluate.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./evaluate.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"evaluate-box\">\r\n\t\t<view class=\"evaluate-box-header\">\r\n\t\t\t<Title title=\"评论\" :isGBack=\"true\" @GBack=\"GBack\"></Title>\r\n\t\t</view>\r\n\t\t<view class=\"evaluate-box-content\">\r\n\t\t\t<view class=\"evaluate-content-list\">\r\n\t\t\t\t<view class=\"evaluate-content-list-li\" v-for=\"(item,index) in goodsList\" :key=\"item.id\">\r\n\t\t\t\t\t<view class=\"evaluate-content-list-li-top\">\r\n\t\t\t\t\t\t<view class=\"evaluate-content-list-li-img\">\r\n\t\t\t\t\t\t\t<image :src=\"item.pic\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"evaluate-content-list-li-info\">\r\n\t\t\t\t\t\t\t<view class=\"evaluate-li-info-title\">{{item.goodsName}}</view>\r\n\t\t\t\t\t\t\t<view class=\"evaluate-li-info-property\">{{item.property}}</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"evaluate-content-list-li-state\">\r\n\t\t\t\t\t\t<view class=\"evaluate-list-li-state-title\">\r\n\t\t\t\t\t\t\t评论状态\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"evaluate-list-li-state-wrap\">\r\n\t\t\t\t\t\t\t<view class=\"evaluate-list-li-state-item\" v-for=\"(v,j) in item.DataList\" @click=\"EvaluateState(index,j)\">\r\n\t\t\t\t\t\t\t\t<image :src=\"v.isFlag?v.acImg:v.Img\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t<text :style=\"{color:(v.isFlag?'#324B78':'#ccc')}\">{{v.title}}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"evaluate-content-list-li-box\">\r\n\t\t\t\t\t\t<view class=\"evaluate-list-li-remarks\">\r\n\t\t\t\t\t\t\t<textarea class=\"textarea\" v-model=\"item.remarks\" placeholder=\"请输入评价内容(必填)，最多200字\" maxlength=\"200\" />\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"evaluate-content-list-li-box-imgarr\">\r\n\t\t\t\t\t\t\t<view class=\"evaluate-list-imgarr-li\" v-for=\"(pic,picIndex) in item.picArr\" @click=\"previewImg(index,picIndex)\">\r\n\t\t\t\t\t\t\t\t<image class=\"evaluate-list-imgarr-li-img\" :src=\"pic\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<image class=\"evaluate-list-imgarr-li-img-del\" src=\"../../static/images/del-ico.png\" mode=\"aspectFill\" @click.stop=\"DeleteImg(index,picIndex)\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"evaluate-list-imgarr-li\" @click=\"UpLoad(index)\">\r\n\t\t\t\t\t\t\t\t<image class=\"evaluate-list-imgarr-li-img\" src=\"../../static/images/add-ico.png\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"evaluate-box-footer\">\r\n\t\t\t<FootBtn BtnName=\"提交评价\" :isActive=\"!isActive\" @footbtn=\"SubMit\"></FootBtn>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\trequest\r\n\t} from \"../../static/js/ajax.js\"\r\n\timport Title from \"../../components/title/title.vue\"\r\n\timport FootBtn from \"../../components/footer-btn/foot-btn.vue\"\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tImgList: [],\r\n\t\t\t\tpicList: [],\r\n\t\t\t\tgoodsList: [],\r\n\t\t\t\torderInfo: {},\r\n\t\t\t\tImgLength: [], // 上传图片长度\r\n\t\t\t\tisActive: true\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tTitle,\r\n\t\t\tFootBtn\r\n\t\t},\r\n\r\n\t\tonLoad(options) {\r\n\t\t\t// var obj = JSON.parse(options.obj)\r\n\t\t\t// this.OrderId = obj.orderId // 订单商品orderid\r\n\t\t\t// this.SKID = obj.id // \r\n\t\t\tthis.OrderDetails(options.id)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 返回按钮\r\n\t\t\tGBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 评价状态\r\n\t\t\tEvaluateState(index, idx) {\r\n\t\t\t\tthis.goodsList[index].DataList.forEach(item => {\r\n\t\t\t\t\titem.isFlag = false\r\n\t\t\t\t})\r\n\t\t\t\tObject.assign(this.goodsList[index].DataList[idx], {\r\n\t\t\t\t\tisFlag: true,\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.$forceUpdate(); // 强制更新页面视图\r\n\t\t\t},\r\n\r\n\t\t\t// 选择上传图片\r\n\t\t\tUpLoad(index) {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 3,\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tthis.goodsList[index].picArr = this.goodsList[index].picArr.concat(res.tempFilePaths)\r\n\t\t\t\t\t\tconsole.log(this.goodsList)\r\n\r\n\t\t\t\t\t\t// 判断是否上传图片的最大张数\r\n\t\t\t\t\t\tif (this.goodsList[index].picArr.length > 3) {\r\n\t\t\t\t\t\t\tthis.goodsList[index].picArr.splice((this.goodsList[index].picArr.length - 1), 1)\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: \"超过图片上传张数：3张\",\r\n\t\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.$forceUpdate(); // 强制更新页面视图\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 提交按钮\r\n\t\t\tSubMit() {\r\n\t\t\t\tfor (var i = 0; i < this.goodsList.length; i++) {\r\n\t\t\t\t\tif (!this.goodsList[i].remarks) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"请输入第\" + (i + 1) + \"个商品的评论信息\",\r\n\t\t\t\t\t\t\ticon: \"none\"\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthis.goodsList.forEach((item, index) => {\r\n\t\t\t\t\titem.picArr.forEach(v => {\r\n\t\t\t\t\t\tthis.ImgLength.push(v) // 统计需要上传图片的张数\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 判断是否有选择评价图片\r\n\t\t\t\tif (this.ImgLength.length != 0) {\r\n\t\t\t\t\tthis.ChangeImg() // 上传图片\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.EvaluateFuntion()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 删除已经添加到需要上传的显示界面\r\n\t\t\tDeleteImg(index,idx) {\r\n\t\t\t\tthis.goodsList[index].picArr.splice(idx,1)\r\n\t\t\t\tthis.$forceUpdate(); // 强制更新页面视图\r\n\t\t\t\tconsole.log(index,idx)\r\n\t\t\t},\r\n\t\t\tChangeImg() {\r\n\t\t\t\tvar i = 0 // 统计上传张数\r\n\t\t\t\tthis.goodsList.forEach((item, index) => {\r\n\t\t\t\t\titem.picArr.forEach(v => {\r\n\t\t\t\t\t\tconst uploadTask = uni.uploadFile({\r\n\t\t\t\t\t\t\turl: 'https://api.it120.cc/doufu/dfs/upload/file',\r\n\t\t\t\t\t\t\tname: 'upfile',\r\n\t\t\t\t\t\t\tfilePath: v,\r\n\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\t\"token\": uni.getStorageSync('token'),\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\ti++\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle: \"图片已上传\" + i + \"张\",\r\n\t\t\t\t\t\t\t\t\tmask: true\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tconsole.log(\"图片已上传\" + i + \"张\")\r\n\r\n\t\t\t\t\t\t\t\tvar dataList = JSON.parse(res.data)\r\n\t\t\t\t\t\t\t\t// 添加上传图片 传递到评价图片\r\n\t\t\t\t\t\t\t\tthis.goodsList[index].picList.splice(this.goodsList[index].picList.length - 1, 0, dataList.data.url)\r\n\t\t\t\t\t\t\t\t// 图片上传完成在执行评价接口\r\n\t\t\t\t\t\t\t\tif (this.ImgLength.length == i) { // 判断图片是否上传完成\r\n\t\t\t\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\t\t\t\tthis.EvaluateFuntion()\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 轮播图片放大预览\r\n\t\t\tpreviewImg(index, prevIdx) {\r\n\t\t\t\tlet imgsArray = [];\r\n\t\t\t\tfor (let i = 0; i < this.goodsList[index].picArr.length; i++) {\r\n\t\t\t\t\timgsArray.push(this.goodsList[index].picArr[i]);\r\n\t\t\t\t}\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: prevIdx,\r\n\t\t\t\t\turls: imgsArray,\r\n\t\t\t\t\tindicator: 'number',\r\n\t\t\t\t\tloop: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 执行评价接口\r\n\t\t\tEvaluateFuntion() {\r\n\t\t\t\tvar arr = []\r\n\t\t\t\tvar data = {}\r\n\t\t\t\tthis.goodsList.forEach(item => {\r\n\t\t\t\t\titem.DataList.forEach(v => {\r\n\t\t\t\t\t\tlet img = [];\r\n\t\t\t\t\t\tif (v.isFlag) {\r\n\t\t\t\t\t\t\titem.picList.forEach(id => {\r\n\t\t\t\t\t\t\t\timg.push(id)\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tlet str = {\r\n\t\t\t\t\t\t\t\tid: item.id,\r\n\t\t\t\t\t\t\t\treputation: v.state, // 好评状态\r\n\t\t\t\t\t\t\t\tremark: item.remarks, // 评价内容\r\n\t\t\t\t\t\t\t\tpics: img, // 图片\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tarr.push(str)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\tdata = {\r\n\t\t\t\t\ttoken: uni.getStorageSync(\"token\"),\r\n\t\t\t\t\torderId: this.orderInfo.id, // \"数字订单号，订单接口的id，不是 orderNumber\",\r\n\t\t\t\t\treputations: arr\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '评价提交中',\r\n\t\t\t\t\tmask: true\r\n\t\t\t\t});\r\n\r\n\t\t\t\trequest({\r\n\t\t\t\t\turl: '/order/reputation',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tpostJsonString: JSON.stringify(data),\r\n\t\t\t\t\t\ttoken: uni.getStorageSync(\"token\")\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\tconsole.log(res.data)\r\n\t\t\t\t\t\tuni.hideLoading();\r\n\t\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\t\t// 跳转到评论成功列表\r\n\t\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\t\turl:\"../../pagesC/evaluate-success/evaluate-success\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:res.data.msg,\r\n\t\t\t\t\t\t\t\ticon:\"none\"\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 轮播图片放大预览\r\n\t\t\tEvaluatepreviewImg(index) {\r\n\t\t\t\tlet imgsArray = [];\r\n\t\t\t\tfor (let i = 0; i < this.ImgList.length; i++) {\r\n\t\t\t\t\timgsArray.push(this.ImgList[i]);\r\n\t\t\t\t}\r\n\t\t\t\tuni.previewImage({\r\n\t\t\t\t\tcurrent: index,\r\n\t\t\t\t\turls: imgsArray,\r\n\t\t\t\t\tindicator: 'number',\r\n\t\t\t\t\tloop: true\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\t\t\t// 获取订单详情\r\n\t\t\tOrderDetails(id) {\r\n\t\t\t\trequest({\r\n\t\t\t\t\turl: '/order/detail',\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\ttoken: uni.getStorageSync(\"token\")\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then(res => {\r\n\t\t\t\t\tif (res.statusCode == 200) {\r\n\t\t\t\t\t\tif (res.data.code == 0) {\r\n\t\t\t\t\t\t\tthis.orderInfo = res.data.data.orderInfo\r\n\t\t\t\t\t\t\tthis.goodsList = res.data.data.goods\r\n\r\n\t\t\t\t\t\t\tthis.goodsList.forEach(item => {\r\n\t\t\t\t\t\t\t\tObject.assign(item, {\r\n\t\t\t\t\t\t\t\t\tremarks: '',\r\n\t\t\t\t\t\t\t\t\tDataList: [{\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"好评\",\r\n\t\t\t\t\t\t\t\t\t\t\tstate: 2,\r\n\t\t\t\t\t\t\t\t\t\t\tisFlag: true,\r\n\t\t\t\t\t\t\t\t\t\t\tacImg: \"../../static/images/look/hp-ico-active.png\",\r\n\t\t\t\t\t\t\t\t\t\t\tImg: \"../../static/images/look/hp-ico.png\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"中评\",\r\n\t\t\t\t\t\t\t\t\t\t\tstate: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tisFlag: false,\r\n\t\t\t\t\t\t\t\t\t\t\tacImg: \"../../static/images/look/zp-ico-active.png\",\r\n\t\t\t\t\t\t\t\t\t\t\tImg: \"../../static/images/look/zp-ico.png\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\ttitle: \"差评\",\r\n\t\t\t\t\t\t\t\t\t\t\tstate: 0,\r\n\t\t\t\t\t\t\t\t\t\t\tisFlag: false,\r\n\t\t\t\t\t\t\t\t\t\t\tacImg: \"../../static/images/look/cp-ico-active.png\",\r\n\t\t\t\t\t\t\t\t\t\t\tImg: \"../../static/images/look/cp-ico.png\"\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t],\r\n\t\t\t\t\t\t\t\t\tpicArr: [],\r\n\t\t\t\t\t\t\t\t\tpicList: []\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else {}\r\n\t\t\t\t\t} else {}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.evaluate-box {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t.evaluate-box-header {}\r\n\r\n\t\t.evaluate-box-content {\r\n\t\t\tflex: 1;\r\n\t\t\toverflow-y: scroll;\r\n\t\t\tbackground: #f7f7f7;\r\n\r\n\t\t\t.evaluate-content-list {\r\n\t\t\t\theight: 100%;\r\n\r\n\t\t\t\t.evaluate-content-list-li {\r\n\t\t\t\t\tpadding: 32rpx;\r\n\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\r\n\t\t\t\t\t.evaluate-content-list-li-top {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\r\n\t\t\t\t\t\t.evaluate-content-list-li-img {\r\n\t\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\t\theight: 80rpx;\r\n\r\n\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\t\t\theight: 100%;\r\n\t\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.evaluate-content-list-li-info {\r\n\t\t\t\t\t\t\tmargin-left: 28rpx;\r\n\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\tfont-weight: 400;\r\n\r\n\t\t\t\t\t\t\t.evaluate-li-info-title {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\t\t\t-webkit-line-clamp: 1;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.evaluate-li-info-property {\r\n\t\t\t\t\t\t\t\tfont-size: 20rpx;\r\n\t\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\t\t\t-webkit-line-clamp: 1;\r\n\t\t\t\t\t\t\t\tline-height: 48rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.evaluate-content-list-li-state {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tpadding: 24rpx 0 32rpx;\r\n\r\n\t\t\t\t\t\t.evaluate-list-li-state-title {\r\n\t\t\t\t\t\t\tmargin-right: 80rpx;\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tfont-weight: 400;\r\n\t\t\t\t\t\t\tcolor: #000;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.evaluate-list-li-state-wrap {\r\n\t\t\t\t\t\t\tpadding-right: 42rpx;\r\n\t\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t\t\t.evaluate-list-li-state-item {\r\n\t\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\t\talign-items: center;\r\n\r\n\t\t\t\t\t\t\t\timage {\r\n\t\t\t\t\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\t\t\tmargin-left: 24rpx;\r\n\t\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t\t\t\t\t\tcolor: #ccc;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.evaluate-content-list-li-box {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\t\theight: 420rpx;\r\n\t\t\t\t\t\tpadding: 26rpx 32rpx;\r\n\t\t\t\t\t\tbox-sizing: border-box;\r\n\t\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\t\tbackground: #f7f7f7;\r\n\t\t\t\t\t\t.evaluate-list-li-remarks {\r\n\t\t\t\t\t\t\ttextarea{\r\n\t\t\t\t\t\t\t\theight: 200rpx;\r\n\t\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.evaluate-content-list-li-box-imgarr {\r\n\t\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\t\t.evaluate-list-imgarr-li {\r\n\t\t\t\t\t\t\t\tposition: relative;\r\n\t\t\t\t\t\t\t\tmargin-right: 32rpx;\r\n\t\t\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t.evaluate-list-imgarr-li-img {\r\n\t\t\t\t\t\t\t\t\twidth: 100rpx;\r\n\t\t\t\t\t\t\t\t\theight: 100rpx;\r\n\t\t\t\t\t\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t.evaluate-list-imgarr-li-img-del{\r\n\t\t\t\t\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\t\t\t\t\tright: -17rpx;\r\n\t\t\t\t\t\t\t\t\ttop: -17rpx;\r\n\t\t\t\t\t\t\t\t\twidth: 34rpx;\r\n\t\t\t\t\t\t\t\t\theight: 34rpx;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t.evaluate-list-imgarr-li:last-child{\r\n\t\t\t\t\t\t\t\tmargin-right: 0;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.evaluate-box-footer {}\r\n\t}\r\n\r\n\r\n\timage {\r\n\t\twidth: 200rpx;\r\n\t\theight: 200rpx;\r\n\t}\r\n</style>\n","import mod from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./evaluate.vue?vue&type=style&index=0&id=1f10e90c&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./evaluate.vue?vue&type=style&index=0&id=1f10e90c&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1604647996380\n      var cssReload = require(\"C:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}