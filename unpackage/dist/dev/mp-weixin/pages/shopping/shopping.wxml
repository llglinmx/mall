<view class="box-wrap"><view class="box-top"><title vue-id="791d8640-1" title="购物车" bind:__l="__l"></title></view><block wx:if="{{isData}}"><view class="shopping-box"><view class="shopping-box-title"><view class="shoppping-title-num">{{"共 "+TotalShopping+" 件商品"}}</view><view data-event-opts="{{[['tap',[['SelectAllDel',['$event']]]]]}}" class="shopping-title-select-all" bindtap="__e">删除</view></view><view data-event-opts="{{[['tap',[['cloneCover',['$event']]]]]}}" class="shopping-list-box" bindtap="__e"><uni-swipe-action vue-id="791d8640-2" bind:__l="__l" vue-slots="{{['default']}}"><block wx:for="{{$root.l0}}" wx:for-item="item" wx:for-index="index" wx:key="key"><uni-swipe-action-item vue-id="{{('791d8640-3-'+index)+','+('791d8640-2')}}" right-options="{{options}}" s="{{true}}" data-event-opts="{{[['^click',[['onClick',['$event',index,'$0'],[[['shoppingList','key',item.$orig.key,'key']]]]]]]}}" bind:click="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="shopping-list"><view class="order-item flex" style="{{'right:'+(item.$orig.right+'rpx')+';'}}" data-index="{{index}}"><view data-event-opts="{{[['tap',[['checkBox',[index]]]]]}}" class="shopping-check" catchtap="__e"><block wx:if="{{!item.$orig.isCheck}}"><text class="check-ico"></text></block><block wx:else><image src="../../static/images/check.png" mode></image></block></view><view data-event-opts="{{[['tap',[['GoodsDetails',['$0'],[[['shoppingList','key',item.$orig.key,'goodsId']]]]]]]}}" class="shopping-content" catchtap="__e"><view class="shopping-img"><image src="{{item.$orig.pic}}" mode></image></view><view class="shopping-info"><view class="shopping-info-title">{{''+item.$orig.name+''}}</view><view class="shopping-info-center"><block wx:if="{{item.$orig.sku}}"><view><block wx:for="{{item.$orig.sku}}" wx:for-item="el" wx:for-index="i" wx:key="optionId"><text>{{''+el.optionName+":"+el.optionValueName+','}}</text></block></view></block></view><view class="shopping-info-bottom"><view class="shopping-info-price">￥<text class="x-price">{{item.f0}}</text></view><view class="shopping-info-stepper"><view data-event-opts="{{[['tap',[['ShoppingClick',['reduce','$0','$1',index],[[['shoppingList','key',item.$orig.key,'saleNums']],[['shoppingList','key',item.$orig.key,'key']]]]]]]}}" class="{{['stepper-reduce',(item.$orig.number==1)?'active':'']}}" catchtap="__e"><image src="../../static/images/reduce.png" mode></image></view><view data-event-opts="{{[['tap',[['ShoppingClick',['nums','$0','$1',index],[[['shoppingList','key',item.$orig.key,'saleNums']],[['shoppingList','key',item.$orig.key,'key']]]]]]]}}" class="stepper-num" catchtap="__e">{{item.$orig.number}}</view><view data-event-opts="{{[['tap',[['ShoppingClick',['add','$0','$1',index],[[['shoppingList','key',item.$orig.key,'saleNums']],[['shoppingList','key',item.$orig.key,'key']]]]]]]}}" class="{{['stepper-add',(item.$orig.number>=item.$orig.saleNums)?'active':'']}}" catchtap="__e"><image src="../../static/images/add.png" mode></image></view></view></view></view></view></view></view></uni-swipe-action-item></block></uni-swipe-action></view></view></block><block wx:else><view class="shopping-box"><block wx:if="{{isLoding}}"><view class="shopping-no-data"><view class="shopping-no-data-text"><loading vue-id="791d8640-4" bind:__l="__l"></loading></view></view></block><block wx:else><view class="shopping-no-data"><view class="shopping-no-data-img"><image src="../../static/images/no-shopping.png" mode></image></view><view class="shopping-no-data-text">购物车还是空的</view><view data-event-opts="{{[['tap',[['AddShopping',['$event']]]]]}}" class="shopping-no-data-btn" bindtap="__e">随便看看</view></view></block></view></block><block wx:if="{{isData}}"><view class="shopping-footer"><view data-event-opts="{{[['tap',[['CheckAll',['$event']]]]]}}" class="shopping-foot-check" bindtap="__e"><view class="shopping-check-ico"><block wx:if="{{!isCheckAll}}"><text></text></block><block wx:else><image src="../../static/images/check.png" mode></image></block></view><view class="shopping-check-text">全选</view></view><view class="shopping-foot-info">合计：<text class="price-msg">￥</text><text class="price-title">{{$root.f1}}</text></view><view data-event-opts="{{[['tap',[['Settlement',['$event']]]]]}}" class="shopping-foot-btn" bindtap="__e">结算<block wx:if="{{TotalNum!=0}}"><text>{{"("+TotalNum+")"}}</text></block></view></view></block><uni-popup class="vue-ref" vue-id="791d8640-5" type="dialog" data-ref="popup" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('791d8640-6')+','+('791d8640-5')}}" type="warn" content="你确定要删除吗？" title="警告" duration="{{2000}}" before-close="{{false}}" data-event-opts="{{[['^close',[['Cancel']]],['^confirm',[['confirm']]]]}}" bind:close="__e" bind:confirm="__e" bind:__l="__l"></uni-popup-dialog></uni-popup><uni-popup class="vue-ref" vue-id="791d8640-7" type="center" maskClick="{{isMask}}" data-ref="PopClick" bind:__l="__l" vue-slots="{{['default']}}"><view class="pop-box"><view class="pop-box-title">修改商品数量</view><view class="pop-box-stepper"><view data-event-opts="{{[['tap',[['ShoppingClick',['reduce','$0','$1','$2'],['shoppingList.'+idx+'.saleNums','shoppingList.'+idx+'.key','idx']]]]]}}" class="{{['pop-box-stepper-add',(shoppingList[idx].number==1)?'active':'']}}" bindtap="__e"><image src="../../static/images/reduce.png" mode></image></view><view class="pop-box-stepper-input"><input style="text-align:center;font-size:28rpx;" type="text" data-event-opts="{{[['input',[['__set_model',['','popEditVal','$event',[]]]]]]}}" value="{{popEditVal}}" bindinput="__e"/></view><view data-event-opts="{{[['tap',[['ShoppingClick',['add','$0','$1','$2'],['shoppingList.'+idx+'.saleNums','shoppingList.'+idx+'.key','idx']]]]]}}" class="{{['pop-box-stepper-reduce',(shoppingList[idx].number>=shoppingList[idx].saleNums)?'active':'']}}" bindtap="__e"><image src="../../static/images/add.png" mode></image></view></view><view class="pop-box-btn"><view data-event-opts="{{[['tap',[['PopCancel',['$event']]]]]}}" class="pop-cancel" bindtap="__e">取消</view><view data-event-opts="{{[['tap',[['PopConfirm',['$0'],['shoppingList.'+idx+'.key']]]]]}}" class="pop-confirm" bindtap="__e">确认</view></view></view></uni-popup></view>